
const wrapperState=[
    {
        srcNoHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/7aBKZ9nnigZUq1pAFKj9ta/1",
        srcHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/3rhKORN3J95IP1bnAygejK/1",
        h3:"Men's Tree Runners Night Edition",
        price:"$130"
    },
    {
        srcNoHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/7xIcdyn4O7a1sxmqACZxVL/1",
        srcHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/73UsKoMMKAXH4xM3WLQp9h/1",
        h3:"Men's Wool Runner Go",
        price:"$110"
    },
    {
        srcNoHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_1066,f_auto,q_auto/https://www.allbirds.com/cdn/shop/files/A10032W090_SHOE_PROFILE_GLOBAL_MENS_TREE_FLYER_2_BLIZZARD_PURE_AZURE_BLIZZARD.png?v=1712330289",
        srcHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/5uYmj3Eu6FAcUVKJPREmkA/5",
        h3:"Men's Tree Flyer 2",
        price:"100$"
    },
    {
        srcNoHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/5nQGMOrwoNNwtLC7NVuStZ/1",
        srcHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/1yIyr5kMDsVTs3RvOtsRCH/1",
        h3:"Men's Tree Loungers",
        price:"$100"
    },
    {
        srcNoHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/tImBSHexFLeutQb3Qg4ro/1",
        srcHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/1RrwbFYjhB1OQrDOchzivI/1",
        h3:"Men's Trail Runners SWT",
        price:"$140"
    },
    {
        srcNoHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/4bs27m8kbmZzVwkLcZjcCx/1",
        srcHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/4t4kT44yS8tabi7mNZQs1K/2",
        h3:"Men's SuperLight Trainers",
        price:"$120"
    },
    {
        srcNoHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/73TPGU1pUzQ9rkW1aCog3t/1",
        srcHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/2pscWIMFpw20a5ayxFnBK5/2",
        h3:"Men's Canvas Pipers",
        price:"$90"
    },
    {
        srcNoHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/31hAgckpYX3elISwqPhI7C/1",
        srcHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/1DpTUAbfUeoiuZyFfAkGfh/1",
        h3:"Men's Golf Dashers",
        price:"$145"
    },
    {
        srcNoHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/18vIivEjpigzuIMEBThtlV/2 ",
        srcHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/6lElSSYtvFo4M07jNr8N3y/2",
        h3:"Men's Tree Skippers",
        price:"$100"
    },
    {
        srcNoHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/31hAgckpYX3elISwqPhI7C/1",
        srcHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/1DpTUAbfUeoiuZyFfAkGfh/1",
        h3:"Men's Wool Dasher Mizzles",
        price:"$145"
    },
    {
        srcNoHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/58OL9Lxlg9L1jolDmpkThD/1",
        srcHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/7zpGRv6qc2jeI2ki5o8Tqc/2",
        h3:"Men's SuperLight Wool Runners",
        price:"$120"
    },
    {
        srcNoHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/2TVz0gU4jVfHQN6xiK5pmp/1",
        srcHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/Nbu3kjV8lDW43sqt5Emaw/1",
        h3:"Men's Tree Pipers",
        price:"$105"
    },
    {
        srcNoHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/5orWCriOBkoyZRcM5jvWJh/1",
        srcHover:"https://cdn.allbirds.com/image/fetch/q_auto,f_auto/w_373,f_auto,q_auto/https://cdn.allbirds.com/image/upload/f_auto,q_auto/v1/production/colorway/en-US/images/1gRFTjieN1aS6Ej48NM5sX/2",
        h3:"Men's Tree Dasher Relay",
        price:"$130"
    },
    
]
var wrapperContainer=document.querySelector(".wrapper-items-container")
function Render(finalState){
    wrapperContainer.innerHTML=""
    let idx=0;
    for(let i=0;i<finalState.length;i++){
        const element=document.createElement("div")
        element.innerHTML=`<div class=" wrapper-items">
                        <div class=" wrapper-items-img-container">
                            <img class=" wrapper-items-img-without-hover"
                                src="${finalState[i].srcNoHover}"
                                alt="">
                            <img class=" wrapper-items-img-on-hover"
                                src="${finalState[i].srcHover}"
                                alt="">
                        </div>
                        <div class=" wrapper-items-desc-container">
                            <div class="wrapper-items-desc-row-1">
                                <h3>${finalState[i].h3}</h3>
                            </div>
                            <div class="wrapper-items-desc-row-2">
                                <i class="ri-star-fill"></i>
                                <p>4.9</p>
                                <span>(123 reviews)</span>
                            </div>
                            <div class="wrapper-items-desc-row-3">
                                <p>${finalState[i].price}</p>
                                <i class="add-to-cart-icon ri-shopping-bag-line" class="add-to-cart-icon" id="${idx}"></i>
                            </div>
                        </div>
                    </div>
                </div>`
        wrapperContainer.appendChild(element)
        idx+=1;
    }
}
const searchInput=document.getElementById("search-bar")
function filterProducts() {
    const searchTerm = searchInput.value.toLowerCase();
  
    const filteredProducts = wrapperState.filter(product =>
      product.h3.toLowerCase().includes(searchTerm)
    );
  
    Render(filteredProducts);
  }

searchInput.addEventListener("input", filterProducts);
Render(wrapperState)




document.querySelector('#search-icon i').addEventListener('click', () => {
    document.querySelector('#search-icon').classList.toggle('active');
  });
  



  //----------------------------ANIMATIONS----------------------------------------

gsap.from(".category-section-container",{
    x:-100,
    opacity:0,
    duration:1.2,
    delay:0.3,
})
gsap.from(".right-section",{
    y:1000,
    opacity:0,
    duration:1.2,
    delay:0.3,
})


// ----------------------------------CART--------------------------------
const cartPanel=document.getElementById("cart-panel")
const cartIcons=document.querySelectorAll(".add-to-cart-icon")
const crossBtn=document.getElementById("cross-button")
const openCartBtn = document.getElementById("cart-icon");
const addToCartBtn=document.querySelectorAll(".add-to-cart-icon")
const cartOverlay=document.getElementById("overlay-container")
const body = document.getElementsByTagName("body")[0];
crossBtn.addEventListener("click",function(){
    cartPanel.classList.remove("active")
    cartOverlay.classList.remove("cart-overlay")
    body.classList.remove("no-scroll");
    // console.log("pressed1")
})
openCartBtn.addEventListener("click",function(){
    cartPanel.classList.add("active")
    cartOverlay.classList.add("cart-overlay")
    body.classList.add("no-scroll"); 
    // console.log("pressed2")
})
document.addEventListener("click", function(event) {
    const isClickInsideCart = cartPanel.contains(event.target);
    const isClickOnOpenCartBtn = openCartBtn.contains(event.target);

    if (!isClickInsideCart && !isClickOnOpenCartBtn) {
        cartPanel.classList.remove("active")
    cartOverlay.classList.remove("cart-overlay")
    body.classList.remove("no-scroll");
    }
});
const cartState=[] 
addToCartBtn.forEach(icon => {
    icon.addEventListener("click",function(){
        const currentIdx=icon.id
        cartState.push(wrapperState[currentIdx])
        console.log(cartState)
        cartRender(cartState)
    })  
});

var cartConainer=document.getElementById("cart-items")
function cartRender(finalState){
    console.log("function called")
    cartConainer.innerHTML=""
    let idx=0;
    for(let i=0;i<finalState.length;i++){
        const element=document.createElement("li")
        element.innerHTML=
                `<div class="cart-items-left-section">
                    <img src="${cartState[idx].srcNoHover}" alt="IMG">
                </div>
                <div class="cart-items-right-section">
                    <div class="heading">
                        <p>${cartState[idx].h3}</p>
                    </div>
                    <div class="color">
                        <p><span>color</span>: Khaki</p>
                        <p><span>Size</span>: 44</p>
                    </div>
                    <div class="quantity-section">
                        <div class="quantity-section">
                        <input type="number" min="0" value="1">
                          
                    </div>
                          
                    </div>
                </div>`
        cartConainer.appendChild(element)
        idx+=1;
    }
}
// cartRender(cartState)