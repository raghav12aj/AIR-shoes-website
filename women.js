
const wrapperState=[
    
    {
        srcNoHover:"https://assets.ajio.com/medias/sys_master/root/20241011/Uw0h/6708d171260f9c41e86d2801/-1117Wx1400H-466893569-white-MODEL.jpg",
        srcHover:"https://assets.ajio.com/medias/sys_master/root/20241011/c69Z/6708d177260f9c41e86d2875/-1117Wx1400H-466893569-white-MODEL5.jpg",
        h3:"Womens's Wool Runner Go",
        price:"$110"
    },
    {
        srcNoHover:"https://assets.ajio.com/medias/sys_master/root/20240926/UPoy/66f518c1f9b8ef490b6af69f/-1117Wx1400H-700266836-lavender-MODEL.jpg",
        srcHover:"https://assets.ajio.com/medias/sys_master/root/20240926/bJBt/66f519b2260f9c41e82bae89/-1117Wx1400H-700266836-lavender-MODEL7.jpg",
        h3:"Womens's Canvas Pipers",
        price:"$90"
    },
    {
        srcNoHover:"https://assets.ajio.com/medias/sys_master/root/20240820/1ulb/66c470106f60443f31164b5d/-1117Wx1400H-700300946-grey-MODEL.jpg",
        srcHover:"https://assets.ajio.com/medias/sys_master/root/20240820/oVfD/66c470106f60443f31164b9f/-1117Wx1400H-700300946-grey-MODEL5.jpg",
        h3:"Womens's Tree Loungers",
        price:"$100"
    },
    {
        srcNoHover:"https://assets.ajio.com/medias/sys_master/root/20240920/AYhM/66ecd005260f9c41e815dfff/-1117Wx1400H-700446276-white-MODEL.jpg",
        srcHover:"https://assets.ajio.com/medias/sys_master/root/20240920/9QEm/66ecd005260f9c41e815e041/-1117Wx1400H-700446276-white-MODEL4.jpg",
        h3:"Womens's Golf Dashers",
        price:"$145"
    },
    {
        srcNoHover:"https://assets.ajio.com/medias/sys_master/root/20241014/U6LZ/670ceab6260f9c41e875fb59/-1117Wx1400H-467239868-white-MODEL.jpg ",
        srcHover:"https://assets.ajio.com/medias/sys_master/root/20241014/u1gr/670ceab6260f9c41e875fb92/-1117Wx1400H-467239868-white-MODEL7.jpg",
        h3:"Womens's Tree Skippers",
        price:"$100"
    },
    {
        srcNoHover:"https://assets.ajio.com/medias/sys_master/root/20230919/h0rG/6509bbadddf7791519e78b55/-473Wx593H-469537086-black-MODEL.jpg",
        srcHover:"https://assets.ajio.com/medias/sys_master/root/20230919/nwK2/6509c2d1ddf7791519e7b118/-473Wx593H-469537086-black-MODEL5.jpg",
        h3:"Womens's Wool Dasher Mizzles",
        price:"$145"
    },
    {
        srcNoHover:"https://assets.ajio.com/medias/sys_master/root/20240404/6p0b/660e913605ac7d77bbf57b48/-473Wx593H-466885762-pink-MODEL.jpg",
        srcHover:"https://assets.ajio.com/medias/sys_master/root/20231214/PYBo/657b024cddf7791519ced7e4/-473Wx593H-466885762-pink-MODEL4.jpg",
        h3:"Womens's SuperLight Wool Runners",
        price:"$120"
    },
    {
        srcNoHover:"https://assets.ajio.com/medias/sys_master/root/20241007/h8qg/67040c7c260f9c41e860f165/-473Wx593H-700515635-white-MODEL.jpg",
        srcHover:"https://assets.ajio.com/medias/sys_master/root/20241007/4wQ0/67040c7c260f9c41e860f107/-473Wx593H-700515635-white-MODEL7.jpg",
        h3:"Womens's Tree Pipers",
        price:"$105"
    },
    {
        srcNoHover:"https://assets.ajio.com/medias/sys_master/root/20240912/Wanw/66e305c56f60443f31763814/-473Wx593H-469658030-camel-MODEL.jpg",
        srcHover:"https://assets.ajio.com/medias/sys_master/root/20240912/pX3s/66e30ccf6f60443f31765951/-473Wx593H-469658030-camel-MODEL7.jpg",
        h3:"Womens's Tree Dasher Relay",
        price:"$130"
    },
    {
        srcNoHover:"https://assets.ajio.com/medias/sys_master/root/20240828/2nbW/66cf2b8e1d763220faa4d0f6/-473Wx593H-700336919-white-MODEL4.jpg",
        srcHover:"https://assets.ajio.com/medias/sys_master/root/20240828/l2jB/66cf2b8e1d763220faa4d0fb/-473Wx593H-700336919-white-MODEL8.jpg",
        h3:"Womens's Tree Runners Night Edition",
        price:"$130"
    },
    {
        srcNoHover:"https://assets.ajio.com/medias/sys_master/root/20240821/6AQh/66c61ae01d763220fa8d247b/-1117Wx1400H-700307771-grey-MODEL7.jpg",
        srcHover:"https://assets.ajio.com/medias/sys_master/root/20240821/7y43/66c61ad91d763220fa8d239b/-473Wx593H-700307771-grey-MODEL2.jpg",
        h3:"Womens's Tree Flyer 2",
        price:"100$"
    },
    {
        srcNoHover:"https://assets.ajio.com/medias/sys_master/root/20241009/ctje/6706264ff9b8ef490ba54686/-473Wx593H-700015416-black-MODEL4.jpg",
        srcHover:"https://assets.ajio.com/medias/sys_master/root/20240627/DiBN/667d7e661d763220fa4a3d84/-473Wx593H-700015416-black-MODEL6.jpg",
        h3:"Womens's Trail Runners SWT",
        price:"$140"
    },
    {
        srcNoHover:"https://assets.ajio.com/medias/sys_master/root/20240221/chyW/65d54fea05ac7d77bb6b92d5/-473Wx593H-467092866-tan-MODEL5.jpg",
        srcHover:"https://assets.ajio.com/medias/sys_master/root/20240221/qgY2/65d54fea05ac7d77bb6b92fe/-1117Wx1400H-467092866-tan-MODEL4.jpg",
        h3:"Womens's     SuperLight Trainers",
        price:"$120"
    },
    
]
var wrapperContainer=document.querySelector(".wrapper-items-container")
function Render(finalState){
    wrapperContainer.innerHTML=""
    let idx=0;
    for(let i=0;i<finalState.length;i++){
        const element=document.createElement("div")
        element.innerHTML=`<div class=" wrapper-items">
                        <div class=" wrapper-items-img-container">
                            <img class=" wrapper-items-img-without-hover"
                                src="${finalState[i].srcNoHover}"
                                alt="">
                            <img class=" wrapper-items-img-on-hover"
                                src="${finalState[i].srcHover}"
                                alt="">
                        </div>
                        <div class=" wrapper-items-desc-container">
                            <div class="wrapper-items-desc-row-1">
                                <h3>${finalState[i].h3}</h3>
                            </div>
                            <div class="wrapper-items-desc-row-2">
                                <i class="ri-star-fill"></i>
                                <p>4.9</p>
                                <span>(123 reviews)</span>
                            </div>
                            <div class="wrapper-items-desc-row-3">
                                <p>${finalState[i].price}</p>
                                <i class="add-to-cart-icon ri-shopping-bag-line" class="add-to-cart-icon" id="${idx}"></i>
                            </div>
                        </div>
                    </div>
                </div>`
        wrapperContainer.appendChild(element)
        idx+=1;
    }
}
const searchInput=document.getElementById("search-bar")
function filterProducts() {
    const searchTerm = searchInput.value.toLowerCase();
  
    const filteredProducts = wrapperState.filter(product =>
      product.h3.toLowerCase().includes(searchTerm)
    );
  
    Render(filteredProducts);
  }

searchInput.addEventListener("input", filterProducts);
Render(wrapperState)




document.querySelector('#search-icon i').addEventListener('click', () => {
    document.querySelector('#search-icon').classList.toggle('active');
  });
  



  //----------------------------ANIMATIONS----------------------------------------

gsap.from(".category-section-container",{
    x:-100,
    opacity:0,
    duration:1.2,
    delay:0.3,
})
gsap.from(".right-section",{
    y:1000,
    opacity:0,
    duration:1.2,
    delay:0.3,
})


// ----------------------------------CART--------------------------------
const cartPanel=document.getElementById("cart-panel")
const cartIcons=document.querySelectorAll(".add-to-cart-icon")
const crossBtn=document.getElementById("cross-button")
const openCartBtn = document.getElementById("cart-icon");
const addToCartBtn=document.querySelectorAll(".add-to-cart-icon")
const cartOverlay=document.getElementById("overlay-container")
const body = document.getElementsByTagName("body")[0];
crossBtn.addEventListener("click",function(){
    cartPanel.classList.remove("active")
    cartOverlay.classList.remove("cart-overlay")
    body.classList.remove("no-scroll");
    // console.log("pressed1")
})
openCartBtn.addEventListener("click",function(){
    cartPanel.classList.add("active")
    cartOverlay.classList.add("cart-overlay")
    body.classList.add("no-scroll"); 
    // console.log("pressed2")
})
document.addEventListener("click", function(event) {
    const isClickInsideCart = cartPanel.contains(event.target);
    const isClickOnOpenCartBtn = openCartBtn.contains(event.target);

    if (!isClickInsideCart && !isClickOnOpenCartBtn) {
        cartPanel.classList.remove("active")
    cartOverlay.classList.remove("cart-overlay")
    body.classList.remove("no-scroll");
    }
});
const cartState=[] 
addToCartBtn.forEach(icon => {
    icon.addEventListener("click",function(){
        const currentIdx=icon.id
        cartState.push(wrapperState[currentIdx])
        console.log(cartState)
        cartRender(cartState)
    })  
});

var cartConainer=document.getElementById("cart-items")
function cartRender(finalState){
    console.log("function called")
    cartConainer.innerHTML=""
    let idx=0;
    for(let i=0;i<finalState.length;i++){
        const element=document.createElement("li")
        element.innerHTML=
                `<div class="cart-items-left-section">
                    <img src="${cartState[idx].srcNoHover}" alt="IMG">
                </div>
                <div class="cart-items-right-section">
                    <div class="heading">
                        <p>${cartState[idx].h3}</p>
                    </div>
                    <div class="color">
                        <p><span>color</span>: Khaki</p>
                        <p><span>Size</span>: 44</p>
                    </div>
                    <div class="quantity-section">
                        <div class="quantity-section">
                        <input type="number" min="0" value="1">
                          
                    </div>
                          
                    </div>
                </div>`
        cartConainer.appendChild(element)
        idx+=1;
    }
}
// cartRender(cartState)